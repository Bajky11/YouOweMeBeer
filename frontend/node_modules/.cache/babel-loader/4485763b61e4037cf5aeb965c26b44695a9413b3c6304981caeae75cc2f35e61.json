{"ast":null,"code":"import React from\"react\";import{Stack,TextField,Button,Card,Alert}from\"@mui/material\";import useForm from\"../../hooks/useForm\";import{useLoginMutation}from\"../../services/api/auth/authApi\";import{useNavigate}from\"react-router-dom\";import{useDispatch}from\"react-redux\";import{setUser}from\"../../services/slice/auth/authSlice\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const{formData,handleChange}=useForm({username:\"\",password:\"\"});const[login,{isLoading,error}]=useLoginMutation();const dispatch=useDispatch();const navigate=useNavigate();const handleSubmit=async event=>{event.preventDefault();try{const user=await login(formData).unwrap();dispatch(setUser(user));navigate(\"/overview\");}catch(err){console.error(\"Login error:\",err);}};return/*#__PURE__*/_jsxs(Stack,{spacing:2,maxWidth:500,component:Card,p:1,children:[/*#__PURE__*/_jsx(TextField,{label:\"Username\",name:\"username\",value:formData.username,onChange:handleChange}),/*#__PURE__*/_jsx(TextField,{label:\"Password\",name:\"password\",type:\"password\",value:formData.password,onChange:handleChange}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error===null||error===void 0?void 0:error.data}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleSubmit,disabled:isLoading,children:\"Login\"})]});};export default Login;","map":{"version":3,"names":["React","Stack","TextField","Button","Card","Alert","useForm","useLoginMutation","useNavigate","useDispatch","setUser","jsx","_jsx","jsxs","_jsxs","Login","formData","handleChange","username","password","login","isLoading","error","dispatch","navigate","handleSubmit","event","preventDefault","user","unwrap","err","console","spacing","maxWidth","component","p","children","label","name","value","onChange","type","severity","data","variant","onClick","disabled"],"sources":["/Users/lukasbajer/Desktop/git/homies-fe/src/pages/login/Login.js"],"sourcesContent":["import React from \"react\";\nimport {Stack, TextField, Button, Card, Alert} from \"@mui/material\";\nimport useForm from \"../../hooks/useForm\";\nimport {useLoginMutation} from \"../../services/api/auth/authApi\";\nimport {useNavigate} from \"react-router-dom\";\nimport {useDispatch} from \"react-redux\";\nimport {setUser} from \"../../services/slice/auth/authSlice\";\n\nconst Login = () => {\n    const {formData, handleChange} = useForm({username: \"\", password: \"\"});\n    const [login, {isLoading, error}] = useLoginMutation();\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n\n        try {\n            const user = await login(formData).unwrap();\n            dispatch(setUser(user));\n            navigate(\"/overview\");\n        } catch (err) {\n            console.error(\"Login error:\", err);\n        }\n    };\n\n    return (\n        <Stack spacing={2} maxWidth={500} component={Card} p={1}>\n            <TextField\n                label=\"Username\"\n                name=\"username\"\n                value={formData.username}\n                onChange={handleChange}\n            />\n            <TextField\n                label=\"Password\"\n                name=\"password\"\n                type=\"password\"\n                value={formData.password}\n                onChange={handleChange}\n            />\n            {error && <Alert severity=\"error\">{error?.data}</Alert>}\n            <Button variant=\"contained\" onClick={handleSubmit} disabled={isLoading}>\n                Login\n            </Button>\n        </Stack>\n    );\n};\n\nexport default Login;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAAQC,KAAK,CAAEC,SAAS,CAAEC,MAAM,CAAEC,IAAI,CAAEC,KAAK,KAAO,eAAe,CACnE,MAAO,CAAAC,OAAO,KAAM,qBAAqB,CACzC,OAAQC,gBAAgB,KAAO,iCAAiC,CAChE,OAAQC,WAAW,KAAO,kBAAkB,CAC5C,OAAQC,WAAW,KAAO,aAAa,CACvC,OAAQC,OAAO,KAAO,qCAAqC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5D,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAChB,KAAM,CAACC,QAAQ,CAAEC,YAAY,CAAC,CAAGX,OAAO,CAAC,CAACY,QAAQ,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAAE,CAAC,CAAC,CACtE,KAAM,CAACC,KAAK,CAAE,CAACC,SAAS,CAAEC,KAAK,CAAC,CAAC,CAAGf,gBAAgB,CAAC,CAAC,CACtD,KAAM,CAAAgB,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAe,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAiB,YAAY,CAAG,KAAO,CAAAC,KAAK,EAAK,CAClCA,KAAK,CAACC,cAAc,CAAC,CAAC,CAEtB,GAAI,CACA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAR,KAAK,CAACJ,QAAQ,CAAC,CAACa,MAAM,CAAC,CAAC,CAC3CN,QAAQ,CAACb,OAAO,CAACkB,IAAI,CAAC,CAAC,CACvBJ,QAAQ,CAAC,WAAW,CAAC,CACzB,CAAE,MAAOM,GAAG,CAAE,CACVC,OAAO,CAACT,KAAK,CAAC,cAAc,CAAEQ,GAAG,CAAC,CACtC,CACJ,CAAC,CAED,mBACIhB,KAAA,CAACb,KAAK,EAAC+B,OAAO,CAAE,CAAE,CAACC,QAAQ,CAAE,GAAI,CAACC,SAAS,CAAE9B,IAAK,CAAC+B,CAAC,CAAE,CAAE,CAAAC,QAAA,eACpDxB,IAAA,CAACV,SAAS,EACNmC,KAAK,CAAC,UAAU,CAChBC,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEvB,QAAQ,CAACE,QAAS,CACzBsB,QAAQ,CAAEvB,YAAa,CAC1B,CAAC,cACFL,IAAA,CAACV,SAAS,EACNmC,KAAK,CAAC,UAAU,CAChBC,IAAI,CAAC,UAAU,CACfG,IAAI,CAAC,UAAU,CACfF,KAAK,CAAEvB,QAAQ,CAACG,QAAS,CACzBqB,QAAQ,CAAEvB,YAAa,CAC1B,CAAC,CACDK,KAAK,eAAIV,IAAA,CAACP,KAAK,EAACqC,QAAQ,CAAC,OAAO,CAAAN,QAAA,CAAEd,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEqB,IAAI,CAAQ,CAAC,cACvD/B,IAAA,CAACT,MAAM,EAACyC,OAAO,CAAC,WAAW,CAACC,OAAO,CAAEpB,YAAa,CAACqB,QAAQ,CAAEzB,SAAU,CAAAe,QAAA,CAAC,OAExE,CAAQ,CAAC,EACN,CAAC,CAEhB,CAAC,CAED,cAAe,CAAArB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}