{"ast":null,"code":"import { createApi } from \"@reduxjs/toolkit/query/react\";\nimport { authenticatedFetchBaseQuery } from \"../../configuration\";\nexport const friendsApi = createApi({\n  reducerPath: \"friendsApi\",\n  baseQuery: authenticatedFetchBaseQuery,\n  tagTypes: [\"Friend\"],\n  endpoints: builder => ({\n    getFriends: builder.query({\n      query: () => `friends`,\n      providesTags: result => result ? [...result.map(({\n        id\n      }) => ({\n        type: \"Friend\",\n        id\n      })), {\n        type: \"Friend\",\n        id: \"LIST\"\n      }] : [{\n        type: \"Friend\",\n        id: \"LIST\"\n      }]\n    }),\n    addFriend: builder.mutation({\n      query: ({\n        userId,\n        friendData\n      }) => ({\n        url: `friends/${userId}/add`,\n        method: \"POST\",\n        body: friendData\n      }),\n      invalidatesTags: [{\n        type: \"Friend\",\n        id: \"LIST\"\n      }]\n    }),\n    increaseScore: builder.mutation({\n      query: ({\n        friendId,\n        points\n      }) => ({\n        url: `friends/${friendId}/increase-score?points=${points}`,\n        method: \"PUT\"\n      }),\n      invalidatesTags: (result, error, {\n        friendId\n      }) => [{\n        type: \"Friend\",\n        id: friendId\n      }]\n    }),\n    decreaseScore: builder.mutation({\n      query: ({\n        friendId,\n        points\n      }) => ({\n        url: `friends/${friendId}/decrease-score?points=${points}`,\n        method: \"PUT\"\n      }),\n      invalidatesTags: (result, error, {\n        friendId\n      }) => [{\n        type: \"Friend\",\n        id: friendId\n      }]\n    }),\n    deleteFriend: builder.mutation({\n      query: friendId => ({\n        url: `friends/${friendId}`,\n        method: \"DELETE\"\n      }),\n      invalidatesTags: (result, error, friendId) => [{\n        type: \"Friend\",\n        id: friendId\n      }]\n    })\n  })\n});\nexport const {\n  useGetFriendsQuery,\n  useAddFriendMutation,\n  useIncreaseScoreMutation,\n  useDecreaseScoreMutation,\n  useDeleteFriendMutation\n} = friendsApi;","map":{"version":3,"names":["createApi","authenticatedFetchBaseQuery","friendsApi","reducerPath","baseQuery","tagTypes","endpoints","builder","getFriends","query","providesTags","result","map","id","type","addFriend","mutation","userId","friendData","url","method","body","invalidatesTags","increaseScore","friendId","points","error","decreaseScore","deleteFriend","useGetFriendsQuery","useAddFriendMutation","useIncreaseScoreMutation","useDecreaseScoreMutation","useDeleteFriendMutation"],"sources":["/Users/lukasbajer/Desktop/git/homies-fe/src/services/api/friends/friendsApi.js"],"sourcesContent":["import {createApi} from \"@reduxjs/toolkit/query/react\";\nimport {authenticatedFetchBaseQuery} from \"../../configuration\";\n\nexport const friendsApi = createApi({\n    reducerPath: \"friendsApi\",\n    baseQuery: authenticatedFetchBaseQuery,\n    tagTypes: [\"Friend\"],\n    endpoints: (builder) => ({\n        getFriends: builder.query({\n            query: () => `friends`,\n            providesTags: (result) =>\n                result\n                    ? [...result.map(({id}) => ({type: \"Friend\", id})), {type: \"Friend\", id: \"LIST\"}]\n                    : [{type: \"Friend\", id: \"LIST\"}],\n        }),\n\n        addFriend: builder.mutation({\n            query: ({userId, friendData}) => ({\n                url: `friends/${userId}/add`,\n                method: \"POST\",\n                body: friendData,\n            }),\n            invalidatesTags: [{type: \"Friend\", id: \"LIST\"}],\n        }),\n\n        increaseScore: builder.mutation({\n            query: ({friendId, points}) => ({\n                url: `friends/${friendId}/increase-score?points=${points}`,\n                method: \"PUT\",\n            }),\n            invalidatesTags: (result, error, {friendId}) => [{type: \"Friend\", id: friendId}],\n        }),\n\n        decreaseScore: builder.mutation({\n            query: ({friendId, points}) => ({\n                url: `friends/${friendId}/decrease-score?points=${points}`,\n                method: \"PUT\",\n            }),\n            invalidatesTags: (result, error, {friendId}) => [{type: \"Friend\", id: friendId}],\n        }),\n\n        deleteFriend: builder.mutation({\n            query: (friendId) => ({\n                url: `friends/${friendId}`,\n                method: \"DELETE\",\n            }),\n            invalidatesTags: (result, error, friendId) => [{type: \"Friend\", id: friendId}],\n        }),\n    }),\n});\n\nexport const {\n    useGetFriendsQuery,\n    useAddFriendMutation,\n    useIncreaseScoreMutation,\n    useDecreaseScoreMutation,\n    useDeleteFriendMutation,\n} = friendsApi;"],"mappings":"AAAA,SAAQA,SAAS,QAAO,8BAA8B;AACtD,SAAQC,2BAA2B,QAAO,qBAAqB;AAE/D,OAAO,MAAMC,UAAU,GAAGF,SAAS,CAAC;EAChCG,WAAW,EAAE,YAAY;EACzBC,SAAS,EAAEH,2BAA2B;EACtCI,QAAQ,EAAE,CAAC,QAAQ,CAAC;EACpBC,SAAS,EAAGC,OAAO,KAAM;IACrBC,UAAU,EAAED,OAAO,CAACE,KAAK,CAAC;MACtBA,KAAK,EAAEA,CAAA,KAAM,SAAS;MACtBC,YAAY,EAAGC,MAAM,IACjBA,MAAM,GACA,CAAC,GAAGA,MAAM,CAACC,GAAG,CAAC,CAAC;QAACC;MAAE,CAAC,MAAM;QAACC,IAAI,EAAE,QAAQ;QAAED;MAAE,CAAC,CAAC,CAAC,EAAE;QAACC,IAAI,EAAE,QAAQ;QAAED,EAAE,EAAE;MAAM,CAAC,CAAC,GAC/E,CAAC;QAACC,IAAI,EAAE,QAAQ;QAAED,EAAE,EAAE;MAAM,CAAC;IAC3C,CAAC,CAAC;IAEFE,SAAS,EAAER,OAAO,CAACS,QAAQ,CAAC;MACxBP,KAAK,EAAEA,CAAC;QAACQ,MAAM;QAAEC;MAAU,CAAC,MAAM;QAC9BC,GAAG,EAAE,WAAWF,MAAM,MAAM;QAC5BG,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEH;MACV,CAAC,CAAC;MACFI,eAAe,EAAE,CAAC;QAACR,IAAI,EAAE,QAAQ;QAAED,EAAE,EAAE;MAAM,CAAC;IAClD,CAAC,CAAC;IAEFU,aAAa,EAAEhB,OAAO,CAACS,QAAQ,CAAC;MAC5BP,KAAK,EAAEA,CAAC;QAACe,QAAQ;QAAEC;MAAM,CAAC,MAAM;QAC5BN,GAAG,EAAE,WAAWK,QAAQ,0BAA0BC,MAAM,EAAE;QAC1DL,MAAM,EAAE;MACZ,CAAC,CAAC;MACFE,eAAe,EAAEA,CAACX,MAAM,EAAEe,KAAK,EAAE;QAACF;MAAQ,CAAC,KAAK,CAAC;QAACV,IAAI,EAAE,QAAQ;QAAED,EAAE,EAAEW;MAAQ,CAAC;IACnF,CAAC,CAAC;IAEFG,aAAa,EAAEpB,OAAO,CAACS,QAAQ,CAAC;MAC5BP,KAAK,EAAEA,CAAC;QAACe,QAAQ;QAAEC;MAAM,CAAC,MAAM;QAC5BN,GAAG,EAAE,WAAWK,QAAQ,0BAA0BC,MAAM,EAAE;QAC1DL,MAAM,EAAE;MACZ,CAAC,CAAC;MACFE,eAAe,EAAEA,CAACX,MAAM,EAAEe,KAAK,EAAE;QAACF;MAAQ,CAAC,KAAK,CAAC;QAACV,IAAI,EAAE,QAAQ;QAAED,EAAE,EAAEW;MAAQ,CAAC;IACnF,CAAC,CAAC;IAEFI,YAAY,EAAErB,OAAO,CAACS,QAAQ,CAAC;MAC3BP,KAAK,EAAGe,QAAQ,KAAM;QAClBL,GAAG,EAAE,WAAWK,QAAQ,EAAE;QAC1BJ,MAAM,EAAE;MACZ,CAAC,CAAC;MACFE,eAAe,EAAEA,CAACX,MAAM,EAAEe,KAAK,EAAEF,QAAQ,KAAK,CAAC;QAACV,IAAI,EAAE,QAAQ;QAAED,EAAE,EAAEW;MAAQ,CAAC;IACjF,CAAC;EACL,CAAC;AACL,CAAC,CAAC;AAEF,OAAO,MAAM;EACTK,kBAAkB;EAClBC,oBAAoB;EACpBC,wBAAwB;EACxBC,wBAAwB;EACxBC;AACJ,CAAC,GAAG/B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}