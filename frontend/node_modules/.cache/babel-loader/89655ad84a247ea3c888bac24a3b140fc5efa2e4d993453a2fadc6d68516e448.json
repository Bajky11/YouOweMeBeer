{"ast":null,"code":"import React from\"react\";import{Stack,TextField,Button,Card,Alert}from\"@mui/material\";import useForm from\"../../hooks/useForm\";import{useRegisterMutation}from\"../../services/api/auth/authApi\";import{useNavigate}from\"react-router-dom\";import{useDispatch}from\"react-redux\";import{setUser}from\"../../services/slice/auth/authSlice\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const{formData,handleChange}=useForm({username:\"\",email:\"\",password:\"\",repeatPassword:\"\"});const[register,{isLoading,error}]=useRegisterMutation();const dispatch=useDispatch();const navigate=useNavigate();const handleSubmit=async event=>{event.preventDefault();console.log(\"Login data:\",formData);try{const user=await register(formData).unwrap();dispatch(setUser(user));navigate(\"/overview\");}catch(err){console.error(\"Registration failed:\",err);}};return/*#__PURE__*/_jsxs(Stack,{spacing:2,maxWidth:500,component:Card,p:1,children:[/*#__PURE__*/_jsx(TextField,{label:\"Username\",name:\"username\",value:formData.username,onChange:handleChange}),/*#__PURE__*/_jsx(TextField,{label:\"Email\",name:\"email\",value:formData.email,onChange:handleChange}),/*#__PURE__*/_jsx(TextField,{label:\"Password\",name:\"password\",type:\"password\",value:formData.password,onChange:handleChange}),/*#__PURE__*/_jsx(TextField,{label:\"Repeat Password\",name:\"repeatPassword\",type:\"password\",value:formData.repeatPassword,onChange:handleChange}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error===null||error===void 0?void 0:error.data}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleSubmit,disabled:isLoading,children:\"Register\"})]});};export default Register;","map":{"version":3,"names":["React","Stack","TextField","Button","Card","Alert","useForm","useRegisterMutation","useNavigate","useDispatch","setUser","jsx","_jsx","jsxs","_jsxs","Register","formData","handleChange","username","email","password","repeatPassword","register","isLoading","error","dispatch","navigate","handleSubmit","event","preventDefault","console","log","user","unwrap","err","spacing","maxWidth","component","p","children","label","name","value","onChange","type","severity","data","variant","onClick","disabled"],"sources":["/Users/lukasbajer/Desktop/git/homies-fe/src/pages/register/Register.js"],"sourcesContent":["import React from \"react\";\nimport {Stack, TextField, Button, Card, Alert} from \"@mui/material\";\nimport useForm from \"../../hooks/useForm\";\nimport {useRegisterMutation} from \"../../services/api/auth/authApi\";\nimport {useNavigate} from \"react-router-dom\";\nimport {useDispatch} from \"react-redux\";\nimport {setUser} from \"../../services/slice/auth/authSlice\";\n\nconst Register = () => {\n    const {formData, handleChange} = useForm({username: \"\", email: \"\", password: \"\", repeatPassword: \"\"});\n    const [register, {isLoading, error}] = useRegisterMutation();\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        console.log(\"Login data:\", formData);\n        try {\n            const user = await register(formData).unwrap();\n            dispatch(setUser(user));\n            navigate(\"/overview\");\n        } catch (err) {\n            console.error(\"Registration failed:\", err);\n        }\n    };\n\n    return (<Stack spacing={2} maxWidth={500} component={Card} p={1}>\n        <TextField\n            label=\"Username\"\n            name=\"username\"\n            value={formData.username}\n            onChange={handleChange}\n        />\n        <TextField\n            label=\"Email\"\n            name=\"email\"\n            value={formData.email}\n            onChange={handleChange}\n        />\n        <TextField\n            label=\"Password\"\n            name=\"password\"\n            type=\"password\"\n            value={formData.password}\n            onChange={handleChange}\n        />\n        <TextField\n            label=\"Repeat Password\"\n            name=\"repeatPassword\"\n            type=\"password\"\n            value={formData.repeatPassword}\n            onChange={handleChange}\n        />\n        {error && <Alert severity=\"error\">{error?.data}</Alert>}\n        <Button variant=\"contained\" onClick={handleSubmit} disabled={isLoading}>\n            Register\n        </Button>\n    </Stack>);\n};\n\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}