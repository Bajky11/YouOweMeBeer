{"ast":null,"code":"import{Alert,Button,Card,Stack,TextField}from\"@mui/material\";import React from\"react\";import useForm from\"../../hooks/useForm\";import{useNavigate}from\"react-router-dom\";import{DatePicker}from\"@mui/x-date-pickers\";import dayjs from\"dayjs\";import{useAddFriendMutation}from\"../../services/api/friends/friendsApi\";import{useSelector}from\"react-redux\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const AddFriend=()=>{const{formData,handleChange}=useForm({name:\"\",birthday:\"\"});const userId=useSelector(state=>state.auth.user.id);const[addFriend,{isLoading,error}]=useAddFriendMutation();const navigate=useNavigate();const handleDateChange=newValue=>{handleChange({target:{name:\"birthday\",value:newValue?dayjs(newValue).format(\"YYYY-MM-DD\"):\"\"}});};const handleSubmit=async event=>{event.preventDefault();try{await addFriend(formData).unwrap();navigate(\"/overview\");}catch(err){console.error(\"Login error:\",err);}};return/*#__PURE__*/_jsxs(Stack,{spacing:2,maxWidth:500,component:Card,p:1,children:[/*#__PURE__*/_jsx(TextField,{label:\"Name\",name:\"name\",value:formData.name,onChange:handleChange}),/*#__PURE__*/_jsx(DatePicker,{label:\"Birthday\",value:formData.birthday?dayjs(formData.birthday):null,onChange:handleDateChange}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error===null||error===void 0?void 0:error.data}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleSubmit,disabled:isLoading,children:\"Add\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:()=>navigate(\"/overview\"),children:\"Back\"})]});};","map":{"version":3,"names":["Alert","Button","Card","Stack","TextField","React","useForm","useNavigate","DatePicker","dayjs","useAddFriendMutation","useSelector","jsx","_jsx","jsxs","_jsxs","AddFriend","formData","handleChange","name","birthday","userId","state","auth","user","id","addFriend","isLoading","error","navigate","handleDateChange","newValue","target","value","format","handleSubmit","event","preventDefault","unwrap","err","console","spacing","maxWidth","component","p","children","label","onChange","severity","data","variant","onClick","disabled"],"sources":["/Users/lukasbajer/Desktop/git/homies-fe/src/pages/addFriend/AddFriend.js"],"sourcesContent":["import {Alert, Button, Card, Stack, TextField} from \"@mui/material\";\nimport React from \"react\";\nimport useForm from \"../../hooks/useForm\";\nimport {useNavigate} from \"react-router-dom\";\nimport {DatePicker} from \"@mui/x-date-pickers\";\nimport dayjs from \"dayjs\";\nimport {useAddFriendMutation} from \"../../services/api/friends/friendsApi\";\nimport {useSelector} from \"react-redux\";\n\nexport const AddFriend = () => {\n    const {formData, handleChange} = useForm({name: \"\", birthday: \"\"});\n    const userId = useSelector(state => state.auth.user.id);\n    const [addFriend, {isLoading, error}] = useAddFriendMutation();\n\n    const navigate = useNavigate();\n\n    const handleDateChange = (newValue) => {\n        handleChange({\n            target: {\n                name: \"birthday\",\n                value: newValue ? dayjs(newValue).format(\"YYYY-MM-DD\") : \"\",\n            },\n        });\n    };\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        try {\n            await addFriend(formData).unwrap();\n            navigate(\"/overview\");\n        } catch (err) {\n            console.error(\"Login error:\", err);\n        }\n    };\n\n    return (\n        <Stack spacing={2} maxWidth={500} component={Card} p={1}>\n            <TextField\n                label=\"Name\"\n                name=\"name\"\n                value={formData.name}\n                onChange={handleChange}\n            />\n            <DatePicker\n                label=\"Birthday\"\n                value={formData.birthday ? dayjs(formData.birthday) : null}\n                onChange={handleDateChange}\n            />\n            {error && <Alert severity=\"error\">{error?.data}</Alert>}\n            <Button variant=\"contained\" onClick={handleSubmit} disabled={isLoading}>Add</Button>\n            <Button variant=\"contained\" onClick={() => navigate(\"/overview\")}>Back</Button>\n        </Stack>\n    );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}